name: Neovim plugin diff commenter
on:
  pull_request:
    types: [opened,edited,reopened]
    paths:
      - '**/init.lua'
jobs:
  pr_body:
    if:  startsWith(github.head_ref, 'renovate/')
    runs-on: ubuntu-latest
    steps:
      - name: Clone repository
        uses: actions/checkout@v2
      - name: Print body
        env:
          PR_BODY: ${{ github.event.pull_request.body}}
          GH_OAUTH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "$PR_BODY" | hack/diff.sh

